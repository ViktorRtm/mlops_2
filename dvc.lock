schema: '2.0'
stages:
  clear_train:
    cmd: python3 scripts/clear_train.py data/train.csv
    deps:
    - path: data/train.csv
      hash: md5
      md5: 8fcda6dddf3201d2c12f2ab8f1c3ccdf
      size: 15281110
    - path: scripts/clear_train.py
      hash: md5
      md5: e0160feb671a900c872382da905e8eb4
      size: 723
    outs:
    - path: data/stage1
      hash: md5
      md5: b4115c5d113432bee6777cec80566b4b.dir
      size: 18131513
      nfiles: 1
  data_preparation:
    cmd: python3 scripts/data_preparation.py data/stage1/train.csv
    deps:
    - path: data/stage1/train.csv
      hash: md5
      md5: aa3be03110fc5780f866ed550dee48fd
      size: 18131513
    - path: scripts/data_preparation.py
      hash: md5
      md5: 07aece93ffe2d04497cbfde2fe4cc0d3
      size: 1803
    outs:
    - path: data/stage2
      hash: md5
      md5: 9c54de33b2db1bb284f2d906830f4b87.dir
      size: 24184704
      nfiles: 1
  split_on_x_y:
    cmd: python3 scripts/split_on_x_y.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      hash: md5
      md5: 459a8c5d6b2e25397228bc60e045d7e2
      size: 24184704
    - path: scripts/split_on_x_y.py
      hash: md5
      md5: dad1060e47867f2d11e77f492dd16eab
      size: 1017
    outs:
    - path: data/stage3
      hash: md5
      md5: 1eb7acfd0f7c371ebaf1fb0cf07c1dcd.dir
      size: 23495453
      nfiles: 2
  split:
    cmd: python3 scripts/data_split.py data/stage3/train_x.csv data/stage3/train_y.csv
    deps:
    - path: data/stage3/train_x.csv
      hash: md5
      md5: 3c22be81e95f8b7742df80e99354d6a3
      size: 16694554
    - path: data/stage3/train_y.csv
      hash: md5
      md5: a1314e4a5b2ed5186a4b8b16ede9b388
      size: 6800899
    - path: scripts/data_split.py
      hash: md5
      md5: 8a96812d960f9f574deafe29b3d9ddcf
      size: 972
    params:
      params.yaml:
        split.split_ratio: 0.2
    outs:
    - path: data/stage4
      hash: md5
      md5: be9f29e7720a21f10f0353f3cd5b1245.dir
      size: 23490332
      nfiles: 4
  train:
    cmd: python3 scripts/model_learning.py data/stage4/train_x.csv data/stage4/train_y.csv
    deps:
    - path: data/stage4/train_y.csv
      hash: md5
      md5: 3ad1215695f173c10c15d0cd99552016
      size: 5439600
    - path: data/stage4/train_y.csv
      hash: md5
      md5: 3ad1215695f173c10c15d0cd99552016
      size: 5439600
    - path: scripts/model_learning.py
      hash: md5
      md5: 6875a309b95a0f737d4865d95d5cb82f
      size: 3398
    params:
      params.yaml:
        train.learning_rate: 0.05
        train.max_depth: 1
    outs:
    - path: models/model.pickle
      hash: md5
      md5: c8d7525bde45e40de863703bd17960b8
      size: 670242
